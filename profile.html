<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard | Flow Webs</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins}
body{background:#f4f5f7;font-size:14px}

/* top bar */
.topbar{
  background:#fff;
  padding:10px 12px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:0 1px 6px rgba(0,0,0,.08)
}

/* gradient */
.header{
  height:78px;
  background:linear-gradient(90deg,#f6a623,#ffe600);
  border-radius:10 10 16px 16px
}

/* card */
.card{
  background:#fff;
  margin:-36px 12px 10px;
  border-radius:14px;
  padding:14px;
  box-shadow:0 8px 20px rgba(0,0,0,.1)
}

/* profile */
.profile{
  display:flex;
  align-items:center;
  gap:12px
}
.avatar{
  width:50px;height:50px;
  border-radius:100%;
  background:#ffe5bf;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:600;
  position:relative;
  font-size:18px;
}
.avatar::after{
  content:'';
  width:8px;height:8px;
  background:#2ecc71;
  border-radius:50%;
  position:absolute;
  bottom:3px;right:3px;
  border:2px solid #fff
}
.info h3{font-size:15px}
.info p{font-size:12px;color:#666}
.badge{
  margin-left:auto;
  font-size:11px;
  padding:3px 8px;
  border-radius:20px;
  background:#e9f7ef;
  color:#27ae60
}

/* url */
.url-box{margin-top:10px}
.url-box label{font-size:15px;color:#888}
.url{
  background:#f2f3f5;
  padding:25px;
  border-radius:8px;
  margin-top:4px;
  font-size:15px;
  border:5px solid #ddd
}

/* stats */
.stats{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
  margin-top:10px
}
.stat{
  padding:10px;
  border-radius:10px;
  border:5px solid #e3e3e3;
  text-align:center;
  background:#fff
}
.stat small{font-size:11px;color:#888}
.stat h2{font-size:18px;margin-top:4px}

/* telegram */
.alert{
  margin:10px 12px;
  padding:12px;
  background:#fff2dc;
  border-radius:12px;
  border:5px solid #ffd59a;
  text-align:center
}
.alert p{font-size:17px;color:#c87c00;margin-bottom:8px}
.alert button{
  width:100%;
  padding:11px;
  border:10;
  border-radius:10px;
  background:#2ecc71;
  color:#fff;
  font-weight:600;
  font-size:14px;
  box-shadow:0 5px 14px rgba(46,204,113,.45)
}

/* menu */
.menu{margin:10px 12px}
.menu-btn{
  padding:20px;
  border-radius:12px;
  background:#fff;
  border:3px solid #e6e6e6;
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:10px;
  box-shadow:0 5px 14px rgba(0,0,0,.08)
}
.menu-btn .left{
  display:flex;
  align-items:center;
  gap:10px
}
.menu-btn span{font-size:15px}
.arrow{
  width:30px;height:30px;
  background:#6c63ff;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-size:15px
}

/* logout button */
#logout{
  margin:5px 12px;
  padding:10px;
  background:#e74c3c;
  color:#fff;
  border:none;
  border-radius:80px;
  font-weight:600;
  cursor:pointer;
}
/* THEMES MODAL */
.themes-modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.35);
  display:none;
  justify-content:center;
  align-items:flex-end;
  z-index:999;
}

.themes-box{
  background:#fff;
  width:100%;
  max-height:85%;
  border-radius:20px 20px 0 0;
  padding:10px;
  overflow-y:auto;
}

.themes-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:12px;
}

.themes-header h3{
  font-size:16px;
  font-weight:600;
}

.themes-header span{
  font-size:20px;
  cursor:pointer;
}

.theme-item{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px;
  border-radius:12px;
  border:3px solid #eee;
  margin-bottom:10px;
}

.theme-item .left{
  display:flex;
  gap:10px;
  align-items:center;
}

.theme-item .icon{
  width:38px;
  height:38px;
  border-radius:100px;
  background:#2ecc71;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
}

.theme-item h4{
  font-size:14px;
}

.theme-item small{
  color:#2ecc71;
  font-size:11px;
}

.theme-item button{
  background:#6c63ff;
  color:#fff;
  border:5;
  padding:8px 14px;
  border-radius:8px;
  font-weight:600;
}
.web-url-label{
  font-size:11px;
  font-weight:600;
  color:#555;
  margin-bottom:6px;
  text-transform:uppercase;
}

.web-url-value{
  background:#f2f3f5;
  color:#444;
  padding:8px;
  border-radius:15px;
  font-size:12px;
  word-break:break-all;
  cursor:pointer;
  border:4px dashed #bbb;
  transition:.2s;
}

.web-url-value:active{
  transform:scale(.98);
  background:#eaeaea;
}
/* Telegram Link Section UI */
.telegram-container {
    background: #1a1a1a;
    border: 2px solid #e74c3c;
    border-radius: 20px;
    padding: 20px;
    margin: 15px 12px;
    color: #fff;
    text-align: center;
}

.telegram-header {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-size: 16px;
    margin-bottom: 15px;
    color: #bbb;
}

.bot-link {
    background: #2ecc71;
    color: #fff;
    padding: 5px 12px;
    border-radius: 15px;
    text-decoration: none;
    font-size: 13px;
    display: inline-block;
    margin-bottom: 15px;
}

.code-badge {
    background: #7b1d1d;
    color: #ff4d4d;
    padding: 3px 10px;
    border-radius: 10px;
    font-size: 12px;
}

.input-group {
    display: flex;
    background: #111;
    border: 1px solid #e74c3c;
    border-radius: 25px;
    overflow: hidden;
    margin-bottom: 15px;
    align-items: center;
}

.input-icon {
    background: #111;
    padding: 10px 15px;
    border-right: 1px solid #e74c3c;
    color: #e74c3c;
}

.input-group input {
    background: transparent;
    border: none;
    color: #fff;
    padding: 10px;
    width: 100%;
    outline: none;
    font-size: 14px;
}

.update-btn {
    background: #e74c3c;
    color: white;
    border: none;
    padding: 10px 25px;
    border-radius: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: 0.3s;
}

.update-btn:active {
    transform: scale(0.95);
}

</style>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js">
</script>

<script>
  // Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyBY4tPdcDfl0C-FRiP3L52PA2WctlziUtM",
    authDomain: "flowwebsff.firebaseapp.com",
    projectId: "flowwebsff",
    storageBucket: "flowwebsff.firebasestorage.app",
    messagingSenderId: "693709721624",
    appId: "1:693709721624:web:e15f6cba7e97288631736d"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
  const auth = firebase.auth();

  // Check login
  auth.onAuthStateChanged(user => {
  if(user){

    // âœ… Username fix
    const username = user.displayName || user.email.split("@")[0];

    // âœ… Show username & email
    document.querySelector(".info h3").textContent = username;
    document.querySelector(".info p").textContent = user.email;

    // âœ… AVATAR FIRST LETTER (YAHI LINE TUM POOCHH RAHE THE)
    const avatar = document.querySelector(".avatar");
    avatar.textContent = username.charAt(0).toUpperCase();

    // âœ… Agar profile photo ho to letter hata do
    if(user.photoURL){
      avatar.style.backgroundImage = `url(${user.photoURL})`;
      avatar.style.backgroundSize = "cover";
      avatar.style.backgroundPosition = "center";
      avatar.textContent = "";
    }
     // âœ… YAHI ADD KARNA HAI
    const BASE_DOMAIN = "https://freefireindiarewards.github.io/WEB2/profile.html?uid=";
    document.getElementById("userUrl").textContent =
      BASE_DOMAIN + user.uid;
  }else{
    window.location.href = "index.html";
  }
});

  // Logout function
  function logout(){
    auth.signOut().then(() => window.location.href="index.html");
  }
</script>
</head>

<body>

<div class="header"></div>

<div class="card">
  <div class="profile">
    <div class="avatar">A</div>
    <div class="info">
      <h3>asmaasma</h3>
      <p>asmaasma@gmail.com</p>
    </div>
    <div class="badge">ãŠ™ğ™ˆğ™€ğ™ˆğ˜½ğ™€ğ™</div>
  </div>

 <div class="url-box">
  <div class="web-url-label">YOUR WEB URL (CLICK TO COPY)</div>
  <div class="web-url-value" id="userUrl" onclick="copyUrl()">
    Loading...
  </div>
</div>

  <div class="stats">
    <div class="stat"><small>ğ™ğ˜¼ğ™‰ğ™†ğ™</small><h2>#293</h2></div>
    <div class="stat"><small>ğ™ğ™€ğ™ğ™ğ™‡ğ™ğ™</small><h2>0</h2></div>
  </div>
</div>

<div class="alert">
  <p>âš  ğ™‡ğ™„ğ™‰ğ™† ğ™”ğ™Šğ™ğ™ ğ™ğ™€ğ™‡ğ™€ğ™‚ğ™ğ˜¼ğ™ˆ ğ˜¼ğ˜¾ğ˜¾ğ™Šğ™ğ™‰ğ™ ğ˜½ğ™€ğ™ğ™Šğ™ğ™€ ğ™ğ™ğ™„ğ™‰ğ™‚ ğ™ğ™ƒğ™€ ğ™’ğ™€ğ˜½</p>
  <button>ğ™‡ğ™„ğ™‰ğ™†</button>
</div>
<div class="telegram-container">
  <div class="telegram-header">
    <i class="fas fa-link"></i> Connect Telegram
  </div>
  
  <p style="font-size: 12px; margin-bottom: 10px; color: #888;">
    Go to <a href="http://t.me/FLOWxDATA_WEB_bot" class="bot-link">@FLOWxDATA_WEB_bot</a> & enter the <span class="code-badge">Code</span>
  </p>

  <div class="input-group">
    <div class="input-icon">
      <i class="fab fa-telegram-plane"></i>
    </div>
    <input type="number" id="chatIdInput" placeholder="ChatID">
  </div>

  <button class="update-btn" onclick="updateChatID()">Update</button>
</div>


<div class="menu">
  <div class="menu-btn">
    <div class="left"><i class="fas fa-cog"></i><span>ğ˜¼ğ˜¾ğ˜¾ğ™Šğ™ğ™‰ğ™ ğ™ğ™€ğ™ğ™ğ™„ğ™‰ğ™‚ğ™</span></div>
    <div class="click"><i class="fas fa-arrow-right"></i></div>
  </div>

  <div class="menu-btn" onclick="openThemes()">
  <div class="left">
    <i class="fas fa-palette"></i>
    <span>ğ™ğ™ƒğ™€ğ™ˆğ™€ğ™ & ğ˜¿ğ™€ğ™ˆğ™Šğ™</span>
  </div>
  <div class="click"><i class="fas fa-arrow-right"></i></div>
</div>

  <div class="menu-btn">
    <div class="left"><i class="fas fa-user"></i><span>ğ™‹ğ™ğ™Šğ™ğ™„ğ™‡ğ™€ ğ™ğ™€ğ™ğ™ğ™„ğ™‰ğ™‚ğ™</span></div>
    <div class="click"><i class="fas fa-arrow-right"></i></div>
  </div>
</div>

<button id="logout" onclick="logout()">Logout</button>
<div id="themesModal" class="themes-modal">
  <div class="themes-box">
    
    <div class="themes-header">
      <h3><i class="fas fa-palette"></i> THEMES & DEMOS</h3>
      <span onclick="closeThemes()">âœ•</span>
    </div>

    <div class="theme-item">
      <div class="left">
        <div class="icon"><i class="fas fa-external-link-alt"></i></div>
        <div>
          <h4>ALL GUNS 2</h4>
          <small>ğŸ’ ONLINE</small>
        </div>
      </div>
      <button 
  data-theme="allguns2"
  data-link="https://freefireindiarewards.github.io/WEB2/allgun2.html"
  onclick="applyTheme('allguns2')">
  USE
</button>
    </div>

    <div class="theme-item">
      <div class="left">
        <div class="icon"><i class="fas fa-external-link-alt"></i></div>
        <div>
          <h4>MIX 2</h4>
          <small>ğŸ’ ONLINE</small>
        </div>
      </div>
          <button 
  data-theme="mix2"
  data-link="https://freefireindiarewards.github.io/WEB2/allgun2.html"
  onclick="applyTheme('mix2')">
  USE
</button>
    </div>

    <div class="theme-item">
      <div class="left">
        <div class="icon"><i class="fas fa-external-link-alt"></i></div>
        <div>
          <h4>COIN EXCHANGE 3</h4>
          <small>ğŸ’ ONLINE</small>
        </div>
      </div>
      <button 
  data-theme="coinexchange3"
  data-link="https://example.com/coinexchange3.html"
  onclick="applyTheme('coinexchange3')">
  USE
</button>
    </div>

    <div class="theme-item">
      <div class="left">
        <div class="icon"><i class="fas fa-external-link-alt"></i></div>
       
        <div>
          <h4>ALL GUNS 2000</h4>
          <small>ğŸ’ ONLINE</small>
        </div>
      </div>
      <button 
  data-theme="allguns2000"
  data-link="https://jazzy-buttercream-c05104.netlify.app/"
  onclick="applyTheme('allguns2000')">
  USE
</button>
    </div>

    <div class="theme-item">
      <div class="left">
        <div class="icon"><i class="fas fa-external-link-alt"></i></div>
       
        <div>
          <h4>NARUTO UID</h4>
          <small>ğŸ’ ONLINE</small>
        </div>
      </div>
<button 
  data-theme="narutouid"
  data-link="https://example.com/narutouid.html"
  onclick="applyTheme('narutouid')">
  USE
</button>
    </div>

  </div>
</div>
<script>
function copyUrl(){
  const text = document.getElementById("userUrl").innerText;
  if(!text || text==="Loading...") return;

  navigator.clipboard.writeText(text).then(()=>{
    
  });
}
  <script>
// Function to save Chat ID to Firebase
function updateChatID() {
  const chatId = document.getElementById("chatIdInput").value;
  
  if (!chatId) {
    alert("Please enter a valid Chat ID");
    return;
  }

  if (currentUser) {
    db.collection("users").doc(currentUser.uid).set({
      telegramChatID: chatId
    }, { merge: true })
    .then(() => {
      alert("Telegram Chat ID Updated Successfully!");
    })
    .catch((error) => {
      console.error("Error updating Chat ID: ", error);
      alert("Failed to update.");
    });
  } else {
    alert("User not logged in.");
  }
}

// Load existing ChatID on startup
auth.onAuthStateChanged(user => {
  if (user) {
    db.collection("users").doc(user.uid).get().then(doc => {
      if (doc.exists && doc.data().telegramChatID) {
        document.getElementById("chatIdInput").value = doc.data().telegramChatID;
      }
    });
  }
});

</script>
</body>
</html>
<script>
function openThemes(){
  document.getElementById("themesModal").style.display="flex";
}

function closeThemes(){
  document.getElementById("themesModal").style.display="none";
}
</script>
<script>
let currentUser = null;

// ğŸ” User detect
auth.onAuthStateChanged(user=>{
  if(user){
    currentUser = user;

    db.collection("users").doc(user.uid).get().then(doc=>{
      if(doc.exists && doc.data().activeTheme){
        setThemeUI(doc.data().activeTheme);
      }
    });
  }
});
function setThemeUI(activeTheme){
  document.querySelectorAll(".theme-item button").forEach(btn=>{
    if(btn.dataset.theme === activeTheme){
      btn.innerText = "IN USE";
      btn.disabled = true;
      btn.style.background = "#2ecc71";
    }else{
      btn.innerText = "USE";
      btn.disabled = false;
      btn.style.background = "#6c63ff";
    }
  });
}
// ğŸ¨ Apply theme (WITH LINK â€“ NO REDIRECT)
function applyTheme(themeName){
  if(!currentUser) return;

  // ğŸ”— button se link uthana
  const btn = document.querySelector(
    `.theme-item button[data-theme="${themeName}"]`
  );
  const themeLink = btn?.getAttribute("data-link") || "";

  // ğŸ”¥ Firebase me save
  db.collection("users").doc(currentUser.uid).set({
    activeTheme: themeName,
    themeLink: themeLink
  }, { merge:true }).then(()=>{
    setThemeUI(themeName);
  });
}
</script>
<script>
const params = new URLSearchParams(window.location.search);
const uidFromUrl = params.get("uid");

if(uidFromUrl){
  document.body.innerHTML = `
    <div style="
      background:#111;
      color:#fff;
      display:flex;
      justify-content:center;
      align-items:center;
      height:100vh;
      font-family:Poppins">
      <h3>ğŸ”„ Theme loading...</h3>
    </div>
  `;

  firebase.firestore().collection("users").doc(uidFromUrl).get()
  .then(doc=>{
    if(doc.exists && doc.data().themeLink){
      window.location.href = doc.data().themeLink;
    }else{
      document.body.innerHTML = "âŒ No theme found";
    }
  })
  .catch(()=>{
    document.body.innerHTML = "âŒ Error loading theme";
  });
}
  </script>
